!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return i(n?n:t)},p,p.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(){},{}],2:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,u,f,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,u=new Array(i-1),f=1;i>f;f++)u[f-1]=arguments[f];n.apply(this,u)}else if(o(n)){for(i=arguments.length,u=new Array(i-1),f=1;i>f;f++)u[f-1]=arguments[f];for(h=n.slice(),i=h.length,f=0;i>f;f++)h[f].apply(this,u)}return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var i;i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,s,u;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(u=s;u-->0;)if(n[u]===e||n[u].listener&&n[u].listener===e){i=u;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],3:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],4:[function(t){"use strict";var e=t("../angular"),n=(t("../index.js"),e.module("factoryng"));n.factory("Memyng",["$q","$timeout",t("./memyng")])},{"../angular":6,"../index.js":7,"./memyng":5}],5:[function(t,e){"use strict";var n=t("../yng");e.exports=function(t,e){var r=new n(t,e);return function(t,n,i){function o(){return(new Date).getTime()+"_"+Math.random().toString(36).substr(2,9)}var s=new r(t,n,i);s.copyApi(this),this.bind=function(t){return s.bindModel(t)},this.create=function(t){return s.setPriorityIfNeeded(t),t.$id=o(),s.createDoc(t).then(function(t){return s.emit("uptodate"),t})},this.update=function(t){return s.updateDoc(t).then(function(t){return s.emit("uptodate"),t})},this.remove=function(t){return s.removeDoc(t).then(function(t){return s.emit("uptodate"),t})},this.setPriority=function(t,n){return e(function(){var e=s.toId(t),r=s.get(e);return r.$priority=n,s.moveDoc(r).then(function(t){return s.emit("uptodate"),t})})}}}},{"../yng":9}],6:[function(t,e){t("angular"),e.exports=angular},{angular:1}],7:[function(t){"use strict";var e=t("./angular"),n=e.module("factoryng",[]);n.service("yngutils",["$q",t("./yng-utils")]),n.factory("Yng",["$q","$timeout",t("./yng")])},{"./angular":6,"./yng":9,"./yng-utils":8}],8:[function(t,e){"use strict";e.exports=function(t){this.ASC=1,this.DESC=2,this.replace=function(t,e){for(var n in t)this.notDefined(e[n])&&delete t[n];for(n in e)t[n]=e[n]},this.isString=function(t){return"string"==typeof t||t instanceof String},this.isNumeric=function(t){return!isNaN(t)},this.notDefined=function(t){return"undefined"==typeof t},this.isFunction=function(t){return"function"==typeof t},this.clone=function(t){return JSON.parse(JSON.stringify(t))},this.copyFns=function(t,e,n){t.forEach(function(t){n[t]=function(){return e[t].apply(e,arguments)}})},this.forEach=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},this.doAndOnce=function(e,n,r){var i=t.defer(),o=t.defer();return r.once(n,function(){var t=arguments;return i.promise.then(function(e){o.resolve({action:e,event:t})})}),e().then(function(){return i.resolve(arguments),o.promise})},this.merge=function(t,e){var n,r={};if(t)for(n in t)r[n]=t[n];if(e)for(n in e)r[n]=e[n];return r},this.get=function(){if(arguments&&"undefined"!=typeof arguments[0]){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];if(null===t||"undefined"==typeof t[n])return;t=t[n]}return t}}}},{}],9:[function(t,e){"use strict";var n=t("inherits"),r=t("events").EventEmitter,i=t("./yng-utils");e.exports=function(t,e){var o=0,s=new i(t),u=function(t,e,n){this.name=t,this.url=e,this.sortBy=n,this.model=[],this.map={},this.sorting=!1,this.scope=null,this.props={}};n(u,r);var f=100,h=function(t){return function(e,n){var r=e.$priority-n.$priority;return t===s.DESC?-r:r}};return u.prototype.sortIfNeeded=function(){this.sortBy&&this.model.sort(this.sortBy===s.ASC||this.sortBy===s.DESC?h(this.sortBy):this.sortBy)},u.prototype.sortSoonIfNeeded=function(){if(!this.sorting){this.sorting=!0;var t=this;e(function(){t.sortIfNeeded(),t.sorting=!1},f)}},u.prototype.get=function(t){return this.map[t]},u.prototype.at=function(t){return this.model[t]},u.prototype.set=function(t){this.exists(t.$id)&&s.replace(this.get(t.$id),t)},u.prototype.setProperty=function(t,e,n){this.map[t][e]=n},u.prototype.exists=function(t){return this.map[t]?!0:!1},u.prototype.push=function(t){this.exists(t.$id)||(this.map[t.$id]=t,this.model.push(t))},u.prototype.remove=function(t){var e=this.map[t];return e&&(this.model.splice(this.model.indexOf(e),1),delete this.map[t]),e},u.prototype.length=function(){return this.model.length},u.prototype.bindModel=function(t){var n=this;return e(function(){return n.scope=t,t[n.name]=n.model,n.model})},u.prototype.bound=function(){return this.scope&&this.scope[this.name]?!0:!1},u.prototype.applyFactory=function(t){var e=this;return function(){return t.apply(e,arguments)}},u.prototype.createDoc=function(t){var n=this;return e(function(){return n.push(t),n.emit("create",t),t})},u.prototype.updateDoc=function(t){var n=this;return e(function(){return n.set(t),n.emit("update",t),t})},u.prototype.removeDoc=function(t){var n=this;return e(function(){var e=n.toId(t),r=n.remove(e);return n.emit("remove",r),r})},u.prototype.moveDoc=function(t){var n=this;return e(function(){return n.get(t.$id).$priority!==t.$priority&&(n.set(t),n.sortSoonIfNeeded()),n.emit("move",t),t})},u.prototype.setPriorityIfNeeded=function(t){s.notDefined(t.$priority)&&(t.$priority=this.length())},u.prototype.toId=function(t){var e=s.isString(t)||s.isNumeric(t)?t:t.$id;if(s.notDefined(e))throw new Error("missing $id");return e},u.prototype.forEach=function(t,e){return this.model.forEach(t,e)},u.prototype.cleanup=function(){return t.when()},u.prototype.provider=function(){return null},u.prototype.destroy=function(){return this.removeAllListeners(),this.model=[],this.map={},t.when()},u.prototype.error=function(t){this.emit("error",t)},u.prototype.nextId=function(){return++o},u.prototype.properties=function(t){return"undefined"==typeof t?this.props:void(this.props=t)},u.prototype.copyApi=function(t){var e=["sortIfNeeded","sortSoonIfNeeded","get","at","set","setProperty","exists","push","remove","length","forEach","cleanup","provider","destroy","bound","properties","on","once","removeListener"];s.copyFns(e,this,t)},u}},{"./yng-utils":8,events:2,inherits:3}]},{},[4]);