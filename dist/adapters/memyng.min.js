"use strict";angular.module("factoryng").factory("Memyng",["$q","$timeout","Yng",function(a,b,c){return function(a,d,e){function f(){return(new Date).getTime()+"_"+Math.random().toString(36).substr(2,9)}var g=new c(a,d,e);g.copyApi(this),this.bind=function(a){return g.bindModel(a)},this.create=function(a){return g.setPriorityIfNeeded(a),a.$id=f(),g.createDoc(a).then(function(a){return g.emit("uptodate"),a})},this.update=function(a){return g.updateDoc(a).then(function(a){return g.emit("uptodate"),a})},this.remove=function(a){return g.removeDoc(a).then(function(a){return g.emit("uptodate"),a})},this.setPriority=function(a,c){return b(function(){var b=g.toId(a),d=g.get(b);return d.$priority=c,g.moveDoc(d).then(function(a){return g.emit("uptodate"),a})})}}}]);